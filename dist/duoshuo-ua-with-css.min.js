!function(e,r){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=r);else try{n.innerHTML=r}catch(s){n.innerText=r}}(document,"#ds-reset .ds-br,#ds-reset .ds-os,#ds-reset .ds-webmaster{display:inline-block;border-radius:.3em;margin-left:.5em;padding:.3em}#ds-reset .ds-os{color:#fff;background:#1e90ff}#ds-reset .ds-br{color:#ff0;background:green}#ds-reset .ds-webmaster{border:1px solid red;color:red}"),!function(){function e(e,r){var n={};return r.forEach(function(r,s){var i=e[s+1];Array.isArray(r)?n[r[0]]="function"==typeof r[1]?r[1](i,r[2]):r[1]:n[r]=i}),n}function r(r){var n,s,i={};for(n in f)s=f[n],s.some(function(s){var t=s[0],o=s[1],d=null;return Array.isArray(t)?t.some(function(e){return d=r.match(e)}):d=r.match(t),d&&(i[n]=e(d,o)),d});return i}function n(e){var r=e.agent,n=function(e){var r=e.name;return e.version&&(r+=" "+e.version),r};return'<div class="ds-os">'+n(r.os)+'</div><div class="ds-br">'+n(r.browser)+"</div>"+(e.webmaster?"<div class=ds-webmaster>站长</div>":"")}function s(e,n){var s,i=n[0],t=duoshuoQuery.myIds||[];1==n.length&&(i=i.post),e.agent=r(i.agent),s=i.author_id,t.indexOf||(t=[t]),e.webmaster=t.indexOf(s)<0?0:s}function i(e){var r=e.result,s=r.indexOf('<div class="ds-comment-header">'),i=r.indexOf("</div>",s),t=duoshuoQuery.getUAString||n;e.result=r.slice(0,i)+t(e)+r.slice(i)}function t(){var e=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var r={},n=arguments;return s.call(this,r,n),r.result=e.apply(this,n),i.call(this,r,n),r.result},DUOSHUO.jQuery(".ds-thread-ua").removeClass("ds-thread-ua").addClass("ds-thread")}var o={reg:function(e,r){return e.replace(r[0],r[1])},str:function(e,r){return e in r?r[e]:r[""]},ieVer:function(e){return parseInt(e)+4}},d={winVer:{"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10",ARM:"RT","":"山寨版"}},a="name",u="version",c="cls",l=[c,"windows"],f={os:[[/(Windows Phone)(?: OS)? ?([^; )]*)/i,[a,u,l]],[/(Windows) ([^;)]*)/i,[a,[u,o.str,d.winVer],l]],[/\b(Windows)\b/i,[a,[u,"超级山寨版"],l]],[/(iPhone|iPod|iPad|Mac OS X)/i,[a,[c,"mac"]]],[/(Android) ?([^; )]*)/i,[a,u,[c,"android"]]],[/(Linux)/i,[a,[c,"linux"]]],[/()/i,[[a,"山寨操作系统"],[c,"other"]]]],browser:[[/(Opera Mini)\/(\d+)/i,[a,u]],[[/(OPR)\/(\S+)/i,/(Presto)\/.*?Version\/(\S+)/i],[[a,"Opera"],u]],[[/(Maxthon)\/(\S+)/i,/(Vivaldi)\/(\S+)/i,/(Chrome)\/(\S+)/i],[a,u]],[/(UC|QQ)Browser\/(\S+)/i,[[a,o.reg,[/$/,"浏览器"]],u]],[/Version\/(\S+) .*?(Safari)\//i,[u,a]],[/(Firefox)\/(\S+)/i,[a,u]],[/MS(IE) (\d+)\.0/i,[[a,"Internet Explorer"],u]],[/(Trident)\/(\d+)\.0/i,[[a,"Internet Explorer"],[u,o.ieVer]]],[/()/i,[[a,"山寨浏览器"]]]]},m=duoshuoQuery.ondomready;duoshuoQuery.ondomready=function(){m&&m(),t()}}();