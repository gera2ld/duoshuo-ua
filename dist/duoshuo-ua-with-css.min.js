!function(e,r){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=r);else try{n.innerHTML=r}catch(t){n.innerText=r}}(document,"#ds-reset .ds-br,#ds-reset .ds-os,#ds-reset .ds-webmaster{display:inline-block;border-radius:.3em;margin-left:.5em;padding:.3em}#ds-reset .ds-os{color:#fff;background:#1e90ff}#ds-reset .ds-br{color:#ff0;background:green}#ds-reset .ds-webmaster{border:1px solid red;color:red}"),!function(){function e(e,r){var n=null,t=null;return r.some(function(r){return r[1].some(function(i){var s;return i[0].slice?i[0].some(function(r){return s=e.match(r),!!s}):s=e.match(i[0]),s?(n=i[1]?i[1](s):s[0],t=r[0],!0):!1})}),[n,t]}function r(e){return e[0].replace("/"," ")}function n(n){var t,i=[["windows",[[/Windows ?([^;)]*)/i,function(e){var r={"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10",ARM:"RT"}[e[1]];return"Windows"+(r?" "+r:"山寨版")}],[/Windows Phone(?: OS)? ?([^; )]*)/i]]],["mac",[[/iPhone|iPod|iPad/i],[/Mac OS X/i]]],["android",[[/Android ?([^; )]*)/i]]],["linux",[[/Linux/i]]]],s=[["opera",[[/Opera Mini\/\d+/i,r],[[/OPR\/(\S+)/i,/Presto\/.*?Version\/(\S+)/i],function(e){return"Opera "+e[1]}]]],["maxthon",[[/Maxthon\/(\S+)/i,r]]],["vivaldi",[[/Vivaldi\/(\S+)/i,r]]],["chrome",[[/Chrome\/(\S+)/i,r]]],["uc",[[/UCBrowser\/(\S+)/i,function(e){return"UC "+e[1]}]]],["safari",[[/Version\/(\S+) .*?Safari\//i,function(e){return"Safari "+e[1]}]]],["firefox",[[/Firefox\/(\S+)/i,r]]],["ie",[[/MSIE (\d+)\.0/i,function(e){return"Internet Explorer "+e[1]}],[/Trident\/(\d+)\.0/i,function(e){return"Internet Explorer "+(parseInt(e[1])+4)}]]]],o={os:"山寨系统",os_cls:"other",br:"山寨浏览器",br_cls:"other"};return t=e(n,i),t[0]&&(o.os=t[0],o.os_cls=t[1]),t=e(n,s),t[0]&&(o.br=t[0],o.br_cls=t[1]),o}function t(e){var r=e.agent;return'<div class="ds-os ds-os-'+r.os_cls+'">'+r.os+'</div><div class="ds-br ds-br-'+r.br_cls+'">'+r.br+"</div>"+(e.webmaster?"<div class=ds-webmaster>站长</div>":"")}function i(e,r){var t,i=r[0],s=duoshuoQuery.myIds||[];1==r.length&&(i=i.post),e.agent=n(i.agent),t=i.author_id,s.indexOf||(s=[s]),e.webmaster=s.indexOf(t)<0?0:t}function s(e){var r=e.result,n=r.indexOf('<div class="ds-comment-header">'),i=r.indexOf("</div>",n),s=duoshuoQuery.getUAString||t;e.result=r.slice(0,i)+s(e)+r.slice(i)}function o(){var e=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var r={},n=arguments;return i.call(this,r,n),r.result=e.apply(this,n),s.call(this,r,n),r.result}}function d(e,r,n){function t(){var e=n;e&&(n=null,e())}var i=void 0;e[r]?t():Object.defineProperty(e,r,{get:function(){return i},set:function(e){i=e,t()},configurable:!0})}function a(e,r,n){function t(){d(e,i,function(){e=e[i],(i=r.shift())?t():n()})}var i=r.shift();t()}a(window,["DUOSHUO","templates","post"],o)}();