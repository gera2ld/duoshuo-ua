/**
 * Duoshuo UA Plugin - CSS集成版
 * 此版本集成ua-parser和默认CSS，提供默认的UA显示方案
 * @version v1.0.5
 * @license MIT
 * @author Gerald <gera2ld@163.com>
 */
!function(){function e(){return""}function r(e,r){var n=duoshuoQuery.myIds||[],t=r[0];1==r.length&&(t=t.post),e.agent=t.agent;var i=t.author_id;n.pop||(n=[n]),e.webmaster=n.indexOf(i)<0?0:i}function n(r){var n=r.result,t=n.indexOf('<div class="ds-comment-header">'),i=n.indexOf("</div>",t),s=duoshuoQuery.getUAString||o.getUAString||e;r.result=n.slice(0,i)+s.call(o,r)+n.slice(i)}function t(){var e=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var t={},i=arguments;return r.call(this,t,i),t.result=e.apply(this,i),n.call(this,t,i),t.result}}function i(e,r,n){function t(){var e=n;e&&(n=null,e())}var i;e[r]?t():Object.defineProperty(e,r,{get:function(){return i},set:function(e){i=e,t()},configurable:!0})}function s(e,r,n){function t(){i(e,s,function(){e=e[s],(s=r.shift())?t():n()})}var s=r.shift();t()}var o=this;s(window,["DUOSHUO","templates","post"],t),!function(e){function r(e,r){var n={};return r.forEach(function(r,t){var i=e[t+1];Array.isArray(r)?n[r[0]]="function"==typeof r[1]?r[1](i,r[2]):r[1]:n[r]=i}),n}function n(e){var r=e.name;return e.version&&(r+=" "+e.version),r}function t(e){var n={};for(var t in c)c[t].some(function(i){var s=i[0],o=i[1];return Array.isArray(s)||(s=[s]),s.some(function(i){var s=e.match(i);return s?(n[t]=r(s,o),!0):void 0})});return n}var i={reg:function(e,r){return e.replace(r[0],r[1])},str:function(e,r){return e in r?r[e]:r[""]},ieVer:function(e){return parseInt(e,10)+4}},s={winVer:{"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10","NT 10.0":"10",ARM:"RT","":"山寨版"}},o="name",a="version",d="cls",u=[d,"windows"],c={os:[[/(Windows Phone)(?: OS)? ?([^; )]*)/i,[o,a,u]],[/(Windows) ([^;)]*)/i,[o,[a,i.str,s.winVer],u]],[/\b(Windows)\b/i,[o,[a,"超级山寨版"],u]],[/(iPhone|iPod|iPad|Mac OS X)/i,[o,[d,"mac"]]],[/(Android) ?([^; )]*)/i,[o,a,[d,"android"]]],[/(Ubuntu|Linux)/i,[o,[d,"linux"]]],[/()/i,[[o,"山寨操作系统"],[d,"other"]]]],browser:[[/(Opera Mini)\/(\d+)/i,[o,a]],[[/(OPR)\/(\S+)/i,/(Presto)\/.*?Version\/(\S+)/i],[[o,"Opera"],a]],[/(Maxthon|Vivaldi)\/(\S+)/i,[o,a]],[/(Chrome)\/(\S+)/i,[o,a]],[/(UC|QQ)Browser\/(\S+)/i,[[o,i.reg,[/$/,"浏览器"]],a]],[/Version\/(\S+) .*?(Safari)\//i,[a,o]],[/(Firefox)\/(\S+)/i,[o,a]],[/MS(IE) (\d+)\.0/i,[[o,"Internet Explorer"],a]],[/(Trident)\/(\d+)\.0/i,[[o,"Internet Explorer"],[a,i.ieVer]]],[/()/i,[[o,"山寨浏览器"]]]]};e.UAParser={parse:t,getString:n}}(this),!function(e){var r=e.UAParser;e.getUAString=function(e){var n=r.parse(e.agent);return'<div class="ds-os">'+r.getString(n.os)+'</div><div class="ds-br">'+r.getString(n.browser)+"</div>"+(e.webmaster?"<div class=ds-webmaster>站长</div>":"")}}(this)}.call({}),function(e,r){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=r);else try{n.innerHTML=r}catch(t){n.innerText=r}}(document,"#ds-reset .ds-br,#ds-reset .ds-os,#ds-reset .ds-webmaster{display:inline-block;border-radius:.3em;margin-left:.5em;padding:.3em}#ds-reset .ds-os{color:#fff;background:#1e90ff}#ds-reset .ds-br{color:#ff0;background:green}#ds-reset .ds-webmaster{border:1px solid red;color:red}");