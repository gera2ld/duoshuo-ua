/**
 * Duoshuo UA Plugin - CSS集成版
 * 此版本集成ua-parser和默认CSS，提供默认的UA显示方案
 * @version v1.0.5
 * @license MIT
 * @author Gerald <gera2ld@163.com>
 */
!function(){function e(e){return""}function r(e,r){o||(o=duoshuoQuery.myIds||[],o.slice||(o=[o]),o.reverse());var n=r[0];1==r.length&&(n=n.post),e.agent=n.agent,e.webmaster=0;for(var t=n.author_id,i=o.length;i--;)if(o[i]==t){e.webmaster=t;break}}function n(r,n){var t=r.result,i=t.indexOf('<div class="ds-comment-header">'),s=t.indexOf("</div>",i),o=duoshuoQuery.getUAString||a.getUAString||e;r.result=t.slice(0,s)+o.call(a,r)+t.slice(s)}function t(){var e=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var t={},i=arguments;return r.call(this,t,i),t.result=e.apply(this,i),n.call(this,t,i),t.result}}function i(e,r,n){function t(){var e=n;e&&(n=null,e())}var i;e[r]?t():Object.defineProperty(e,r,{get:function(){return i},set:function(e){i=e,t()},configurable:!0})}function s(e,r,n){function t(){i(e,s,function(){e=e[s],(s=r.shift())?t():n()})}var s=r.shift();t()}var o,a=this;s(window,["DUOSHUO","templates","post"],t),!function(e,r){function n(e,r){var n={};return r.forEach(function(r,t){var i=e[t+1];Array.isArray(r)?"function"==typeof r[1]?n[r[0]]=r[1](i,r[2]):n[r[0]]=r[1]:n[r]=i}),n}function t(e){var r=e.name;return e.version&&(r+=" "+e.version),r}function i(e){var r={};for(var t in l)l[t].some(function(i){var s=i[0],o=i[1];return Array.isArray(s)||(s=[s]),s.some(function(i){var s=e.match(i);return s?(r[t]=n(s,o),!0):void 0})});return r}var s={reg:function(e,r){return e.replace(r[0],r[1])},str:function(e,r){return e in r?r[e]:r[""]},ieVer:function(e){return parseInt(e,10)+4}},o={winVer:{"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10","NT 10.0":"10",ARM:"RT","":"山寨版"}},a="name",d="version",u="cls",c=[u,"windows"],l={os:[[/(Windows Phone)(?: OS)? ?([^; )]*)/i,[a,d,c]],[/(Windows) ([^;)]*)/i,[a,[d,s.str,o.winVer],c]],[/\b(Windows)\b/i,[a,[d,"超级山寨版"],c]],[/(iPhone|iPod|iPad|Mac OS X)/i,[a,[u,"mac"]]],[/(Android) ?([^; )]*)/i,[a,d,[u,"android"]]],[/(Ubuntu|Linux)/i,[a,[u,"linux"]]],[/()/i,[[a,"山寨操作系统"],[u,"other"]]]],browser:[[/(Opera Mini)\/(\d+)/i,[a,d]],[[/(OPR)\/(\S+)/i,/(Presto)\/.*?Version\/(\S+)/i],[[a,"Opera"],d]],[/(Maxthon|Vivaldi)\/(\S+)/i,[a,d]],[/(Chrome)\/(\S+)/i,[a,d]],[/(UC|QQ)Browser\/(\S+)/i,[[a,s.reg,[/$/,"浏览器"]],d]],[/Version\/(\S+) .*?(Safari)\//i,[d,a]],[/(Firefox)\/(\S+)/i,[a,d]],[/MS(IE) (\d+)\.0/i,[[a,"Internet Explorer"],d]],[/(Trident)\/(\d+)\.0/i,[[a,"Internet Explorer"],[d,s.ieVer]]],[/()/i,[[a,"山寨浏览器"]]]]};e.UAParser={parse:i,getString:t}}(this),!function(e,r){var n=e.UAParser;e.getUAString=function(e){var r=n.parse(e.agent);return'<div class="ds-os">'+n.getString(r.os)+'</div><div class="ds-br">'+n.getString(r.browser)+"</div>"+(e.webmaster?"<div class=ds-webmaster>站长</div>":"")}}(this)}.call({}),function(e,r){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=r);else try{n.innerHTML=r}catch(t){n.innerText=r}}(document,"#ds-reset .ds-br,#ds-reset .ds-os,#ds-reset .ds-webmaster{display:inline-block;border-radius:.3em;margin-left:.5em;padding:.3em}#ds-reset .ds-os{color:#fff;background:#1e90ff}#ds-reset .ds-br{color:#ff0;background:green}#ds-reset .ds-webmaster{border:1px solid red;color:red}");