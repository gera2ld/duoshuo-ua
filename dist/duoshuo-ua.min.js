!function(){function r(r,n){var e=null,i=null;return n.some(function(n){return n[1].some(function(t){var s;return t[0].slice?t[0].some(function(n){return s=r.match(n),!!s}):s=r.match(t[0]),s?(e=t[1]?t[1](s):s[0],i=n[0],!0):!1})}),[e,i]}function n(r){return r[0].replace("/"," ")}function e(e){var i,t=[["windows",[[/Windows ?([^;)]*)/i,function(r){var n={"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10",ARM:"RT"}[r[1]];return"Windows"+(n?" "+n:"山寨版")}],[/Windows Phone(?: OS)? ?([^; )]*)/i]]],["mac",[[/iPhone|iPod|iPad/i],[/Mac OS X/i]]],["android",[[/Android ?([^; )]*)/i]]],["linux",[[/Linux/i]]]],s=[["opera",[[/Opera Mini\/\d+/i,n],[[/OPR\/(\S+)/i,/Presto\/.*?Version\/(\S+)/i],function(r){return"Opera "+r[1]}]]],["maxthon",[[/Maxthon\/(\S+)/i,n]]],["vivaldi",[[/Vivaldi\/(\S+)/i,n]]],["chrome",[[/Chrome\/(\S+)/i,n]]],["safari",[[/Version\/(\S+) .*?Safari\//i,function(r){return"Safari "+r[1]}]]],["firefox",[[/Firefox\/(\S+)/i,n]]],["ie",[[/MSIE (\d+)\.0/i,function(r){return"Internet Explorer "+r[1]}],[/Trident\/(\d+)\.0/i,function(r){return"Internet Explorer "+(parseInt(r[1])+4)}]]]],o={os:"山寨系统",os_cls:"other",br:"山寨浏览器",br_cls:"other"};return i=r(e,t),i[0]&&(o.os=i[0],o.os_cls=i[1]),i=r(e,s),i[0]&&(o.br=i[0],o.br_cls=i[1]),o}function i(r){var n=r.agent;return'<div class="ds-os ds-os-'+n.os_cls+'">'+n.os+'</div><div class="ds-br ds-br-'+n.br_cls+'">'+n.br+"</div>"+(r.webmaster?"<div class=ds-webmaster>站长</div>":"")}function t(r,n){var i,t=n[0],s=duoshuoQuery.myIds||[];1==n.length&&(t=t.post),r.agent=e(t.agent),i=t.author_id,s.indexOf||(s=[s]),r.webmaster=s.indexOf(i)<0?0:i}function s(r){var n=r.result,e=n.indexOf('<div class="ds-comment-header">'),t=n.indexOf("</div>",e),s=duoshuoQuery.getUAString||i;r.result=n.slice(0,t)+s(r)+n.slice(t)}function o(){var r=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var n={},e=arguments;return t.call(this,n,e),n.result=r.apply(this,e),s.call(this,n,e),n.result},DUOSHUO.jQuery(".ds-thread-ua").removeClass("ds-thread-ua").addClass("ds-thread")}var a=duoshuoQuery.ondomready;duoshuoQuery.ondomready=function(){a&&a(),o()}}();