!function(n,i){function r(n,i){var r=null,t=null;return i.some(function(i){return i[1].some(function(e){var o;return e[0].slice?e[0].some(function(i){return o=n.match(i),!!o}):o=n.match(e[0]),o?(r=e[1]?e[1](o):o[0],t=i[0],!0):!1})}),[r,t]}function t(n){return n[0].replace("/"," ")}function e(n){var i,e=[["windows",[[/Windows ?([^;)]*)/i,function(n){var i={"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10",ARM:"RT"}[n[1]];return"Windows"+(i?" "+i:"山寨版")}],[/Windows Phone(?: OS)? ?([^; )]*)/i]]],["mac",[[/iPhone|iPod|iPad/i],[/Mac OS X/i]]],["android",[[/Android ?([^; )]*)/i]]],["linux",[[/Linux/i]]]],o=[["opera",[[/Opera Mini\/\d+/i,t],[[/OPR\/(\S+)/i,/Presto\/.*?Version\/(\S+)/i],function(n){return"Opera "+n[1]}]]],["maxthon",[[/Maxthon\/(\S+)/i,t]]],["vivaldi",[[/Vivaldi\/(\S+)/i,t]]],["chrome",[[/Chrome\/(\S+)/i,t]]],["safari",[[/Version\/(\S+) .*?Safari\//i,function(n){return"Safari "+n[1]}]]],["firefox",[[/Firefox\/(\S+)/i,t]]],["ie",[[/MSIE (\d+)\.0/i,function(n){return"Internet Explorer "+n[1]}],[/Trident\/(\d+)\.0/i,function(n){return"Internet Explorer "+(parseInt(n[1])+4)}]]]],s={os:"山寨系统",os_cls:"other",br:"山寨浏览器",br_cls:"other"};return i=r(n,e),i[0]&&(s.os=i[0],s.os_cls=i[1]),i=r(n,o),i[0]&&(s.br=i[0],s.br_cls=i[1]),s}function o(n){var i=n.agent;return'<div class="ds-os ds-os-'+i.os_cls+'">'+i.os+'</div><div class="ds-br ds-br-'+i.br_cls+'">'+i.br+"</div>"+(n.webmaster?"<div class=ds-webmaster>站长</div>":"")}function s(n,i){var r,t=i[0],o=duoshuoQuery.myIds||[];1==i.length&&(t=t.post),n.agent=e(t.agent),r=t.author_id,o.indexOf||(o=[o]),n.webmaster=o.indexOf(r)<0?0:r}function u(n){var i=n.result,r=i.indexOf('<div class="ds-comment-header">'),t=i.indexOf("</div>",r),e=duoshuoQuery.getUAString||o;n.result=i.slice(0,t)+e(n)+i.slice(t)}function a(){var n=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var i={},r=arguments;return s.call(this,i,r),i.result=n.apply(this,r),u.call(this,i,r),i.result}}function c(n,i,r){function t(){var n=r;n&&(r=null,n())}var e=void 0;n[i]?t():Object.defineProperty(n,i,{get:function(){return e},set:function(n){e=n,t()},configurable:!0})}function d(n,i,r){function t(){c(n,e,function(){n=n[e],(e=i.shift())?t():r()})}var e=i.shift();t()}i.undefined=n,d(window,["DUOSHUO","templates","post"],a)}({},function(){return this}());