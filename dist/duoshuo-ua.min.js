!function(){function n(n,r){var i={};return r.forEach(function(r,e){var t=n[e+1];Array.isArray(r)?i[r[0]]="function"==typeof r[1]?r[1](t,r[2]):r[1]:i[r]=t}),i}function r(r){var i,e,t={};for(i in h)e=h[i],e.some(function(e){var o=e[0],s=e[1],a=null;return Array.isArray(o)?o.some(function(n){return a=r.match(n)}):a=r.match(o),a&&(t[i]=n(a,s)),a});return t}function i(n){var i=r(n.agent),e=function(n){var r=n.name;return n.version&&(r+=" "+n.version),r};return'<div class="ds-os">'+e(i.os)+'</div><div class="ds-br">'+e(i.browser)+"</div>"+(n.webmaster?"<div class=ds-webmaster>站长</div>":"")}function e(n,r){var i,e=r[0],t=duoshuoQuery.myIds||[];1==r.length&&(e=e.post),n.agent=e.agent,i=e.author_id,t.indexOf||(t=[t]),n.webmaster=t.indexOf(i)<0?0:i}function t(n){var r=n.result,e=r.indexOf('<div class="ds-comment-header">'),t=r.indexOf("</div>",e),o=duoshuoQuery.getUAString||i;n.result=r.slice(0,t)+o(n)+r.slice(t)}function o(){var n=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var r={},i=arguments;return e.call(this,r,i),r.result=n.apply(this,i),t.call(this,r,i),r.result}}function s(n,r,i){function e(){var n=i;n&&(i=null,n())}var t=void 0;n[r]?e():Object.defineProperty(n,r,{get:function(){return t},set:function(n){t=n,e()},configurable:!0})}function a(n,r,i){function e(){s(n,t,function(){n=n[t],(t=r.shift())?e():i()})}var t=r.shift();e()}var u={reg:function(n,r){return n.replace(r[0],r[1])},str:function(n,r){return n in r?r[n]:r[""]},ieVer:function(n){return parseInt(n)+4}},c={winVer:{"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10","NT 10.0":"10",ARM:"RT","":"山寨版"}},d="name",f="version",l="cls",v=[l,"windows"],h={os:[[/(Windows Phone)(?: OS)? ?([^; )]*)/i,[d,f,v]],[/(Windows) ([^;)]*)/i,[d,[f,u.str,c.winVer],v]],[/\b(Windows)\b/i,[d,[f,"超级山寨版"],v]],[/(iPhone|iPod|iPad|Mac OS X)/i,[d,[l,"mac"]]],[/(Android) ?([^; )]*)/i,[d,f,[l,"android"]]],[/(Linux)/i,[d,[l,"linux"]]],[/()/i,[[d,"山寨操作系统"],[l,"other"]]]],browser:[[/(Opera Mini)\/(\d+)/i,[d,f]],[[/(OPR)\/(\S+)/i,/(Presto)\/.*?Version\/(\S+)/i],[[d,"Opera"],f]],[[/(Maxthon)\/(\S+)/i,/(Vivaldi)\/(\S+)/i,/(Chrome)\/(\S+)/i],[d,f]],[/(UC|QQ)Browser\/(\S+)/i,[[d,u.reg,[/$/,"浏览器"]],f]],[/Version\/(\S+) .*?(Safari)\//i,[f,d]],[/(Firefox)\/(\S+)/i,[d,f]],[/MS(IE) (\d+)\.0/i,[[d,"Internet Explorer"],f]],[/(Trident)\/(\d+)\.0/i,[[d,"Internet Explorer"],[f,u.ieVer]]],[/()/i,[[d,"山寨浏览器"]]]]};a(window,["DUOSHUO","templates","post"],o)}();