!function(e){var d=document.createElement("style");d.innerHTML=e,(document.head||document.documentElement).appendChild(d)}("#ds-reset .ds-br,#ds-reset .ds-os,#ds-reset .ds-webmaster{display:inline-block;border-radius:.3em;margin-left:.5em;padding:.3em}#ds-reset .ds-os{color:#fff;background:#1e90ff}#ds-reset .ds-br{color:#ff0;background:green}#ds-reset .ds-webmaster{border:1px solid red;color:red}");!function(){function n(n,r){var t=null,e=null;return r.some(function(r){return r[1].some(function(i){var o;return i[0].slice?i[0].some(function(r){return o=n.match(r),!!o}):o=n.match(i[0]),o?(t=i[1]?i[1](o):o[0],e=r[0],!0):!1})}),[t,e]}function r(r){var t,e=[["windows",[[/Windows ?([^;)]*)/i,function(n){var r={"4.90":"ME","NT3.51":"NT 3.11","NT4.0":"NT 4.0","NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"XP","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 6.4":"10",ARM:"RT"}[n[1]];return"Windows"+(r?" "+r:"山寨版")}],[/Windows Phone(?: OS)? ?([^; )]*)/i]]],["mac",[[/iPhone|iPod|iPad/i],[/Mac OS X/i]]],["android",[[/Android ?([^; )]*)/i]]],["linux",[[/Linux/i]]]],i=[["opera",[[/Opera Mini\/\d+/i,function(n){return n[0].replace("/"," ")}],[[/OPR\/(\S+)/i,/Presto\/.*?Version\/(\S+)/i],function(n){return"Opera "+n[1]}]]],["maxthon",[[/Maxthon\/(\S+)/i,function(n){return n[0].replace("/"," ")}]]],["chrome",[[/Chrome\/(\S+)/i,function(n){return n[0].replace("/"," ")}]]],["safari",[[/Version\/(\S+) .*?Safari\//i,function(n){return"Safari "+n[1]}]]],["firefox",[[/Firefox\/(\S+)/i,function(n){return n[0].replace("/"," ")}]]],["ie",[[/MSIE (\d+)\.0/i,function(n){return"Internet Explorer "+n[1]}],[/Trident\/(\d+)\.0/i,function(n){return"Internet Explorer "+(parseInt(n[1])+4)}]]]],o={os:"山寨系统",os_cls:"other",br:"山寨浏览器",br_cls:"other"};return t=n(r,e),t[0]&&(o.os=t[0],o.os_cls=t[1]),t=n(r,i),t[0]&&(o.br=t[0],o.br_cls=t[1]),o}function t(n){var r=n.agent;return'<div class="ds-os ds-os-'+r.os_cls+'">'+r.os+'</div><div class="ds-br ds-br-'+r.br_cls+'">'+r.br+"</div>"+(n.webmaster?"<div class=ds-webmaster>站长</div>":"")}function e(n,t){var e,i=t[0],o=duoshuoQuery.myIds||[];1==t.length&&(i=i.post),n.agent=r(i.agent),e=i.author_id,o.indexOf||(o=[o]),n.webmaster=o.indexOf(e)<0?0:e}function i(n){var r=n.result,e=r.indexOf('<div class="ds-comment-header">'),i=r.indexOf("</div>",e),o=duoshuoQuery.getUAString||t;n.result=r.slice(0,i)+o(n)+r.slice(i)}function o(){var n=DUOSHUO.templates.post;DUOSHUO.templates.post=function(){var r={},t=arguments;return e.call(this,r,t),r.result=n.apply(this,t),i.call(this,r,t),r.result}}function s(n,r,t){function e(){var n=t;n&&(t=null,n())}var i=void 0;n[r]?e():Object.defineProperty(n,r,{get:function(){return i},set:function(n){i=n,e()},configurable:!0})}function u(n,r,t){function e(){s(n,i,function(){n=n[i],(i=r.shift())?e():t()})}var i=r.shift();e()}u(window,["DUOSHUO","templates","post"],o)}();